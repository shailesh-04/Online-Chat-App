<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Chat App</title>
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <!-- Background Bubbles -->
    <div class="bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>
    <!-- Menu Toggle (Mobile) -->
    <button class="menu-toggle" id="menuToggle">
        <i class="fa-solid fa-bars"></i>
    </button>

    <!-- Chat Container -->
    <div class="chat-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Profile" class="profile-pic">
                <div class="user-info">
                    <h3>Sarah Johnson</h3>
                    <p>Online</p>
                </div>
            </div>

            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search contacts...">
            </div>

            <div class="contacts">
                <div class="contact active">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Contact" class="contact-pic">
                    <div class="contact-info">
                        <h4>Michael Brown</h4>
                        <p>Hey, how are you doing?</p>
                    </div>
                    <span class="contact-time">10:30 AM</span>
                    <span class="contact-unread">3</span>
                </div>

                <div class="contact">
                    <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Contact" class="contact-pic">
                    <div class="contact-info">
                        <h4>Emily Wilson</h4>
                        <p>Meeting at 2 PM tomorrow</p>
                    </div>
                    <span class="contact-time">Yesterday</span>
                </div>

                <div class="contact">
                    <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Contact" class="contact-pic">
                    <div class="contact-info">
                        <h4>David Miller</h4>
                        <p>Please review the documents</p>
                    </div>
                    <span class="contact-time">Yesterday</span>
                    <span class="contact-unread">1</span>
                </div>

                <div class="contact">
                    <img src="https://randomuser.me/api/portraits/women/33.jpg" alt="Contact" class="contact-pic">
                    <div class="contact-info">
                        <h4>Jessica Davis</h4>
                        <p>Thanks for your help!</p>
                    </div>
                    <span class="contact-time">Monday</span>
                </div>

                <div class="contact">
                    <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="Contact" class="contact-pic">
                    <div class="contact-info">
                        <h4>Robert Taylor</h4>
                        <p>Let's catch up soon</p>
                    </div>
                    <span class="contact-time">Sunday</span>
                </div>

                <div class="contact">
                    <img src="https://randomuser.me/api/portraits/women/28.jpg" alt="Contact" class="contact-pic">
                    <div class="contact-info">
                        <h4>Jennifer Anderson</h4>
                        <p>Did you see the news?</p>
                    </div>
                    <span class="contact-time">Friday</span>
                </div>
            </div>
        </div>

        <!-- Chat Area -->
        <div class="chat-area">
            <div class="chat-header">
                <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Profile" class="profile-pic">
                <div class="chat-header-info">
                    <h3>Michael Brown</h3>
                    <p>last seen today at 12:45 PM</p>
                </div>
                <div class="chat-status"></div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message received">
                    <div class="message-content">
                        Hey Sarah! How are you doing today?
                    </div>
                    <div class="message-time">10:30 AM</div>
                </div>

                <div class="message sent">
                    <div class="message-content">
                        Hi Michael! I'm doing great, thanks for asking. How about you?
                    </div>
                    <div class="message-time">10:32 AM</div>
                </div>

                <div class="message received">
                    <div class="message-content">
                        Pretty good! Just wanted to check if you're still up for lunch tomorrow?
                    </div>
                    <div class="message-time">10:33 AM</div>
                </div>

                <div class="message sent">
                    <div class="message-content">
                        Absolutely! 12:30 at the usual place?
                    </div>
                    <div class="message-time">10:34 AM</div>
                </div>

                <div class="message received">
                    <div class="message-content">
                        Perfect! I'll see you there. By the way, did you get a chance to look at the project proposal I
                        sent you?
                    </div>
                    <div class="message-time">10:35 AM</div>
                </div>

                <div class="message sent">
                    <div class="message-content">
                        Yes, I went through it yesterday. It looks really good! I just have a couple of small
                        suggestions. I can share them with you tomorrow.
                    </div>
                    <div class="message-time">10:37 AM</div>
                </div>

                <div class="message received">
                    <div class="message-content">
                        That would be great! Looking forward to it. Have a wonderful day!
                    </div>
                    <div class="message-time">10:38 AM</div>
                </div>

                <div class="message sent">
                    <div class="message-content">
                        You too! See you tomorrow ðŸ˜Š
                    </div>
                    <div class="message-time">10:39 AM</div>
                </div>
            </div>

            <div class="chat-input">
                <input type="text" placeholder="Type a message..." id="messageInput">
                <button class="send-btn" id="sendBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab" id="fab">
        <i class="fas fa-comment-dots"></i>
    </div>

    <script>
        // Mobile menu toggle
        const menuToggle = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');
        let isOpenMenu = false;
        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            menuToggle.innerHTML = `<i class='fa-solid fa-${isOpenMenu?'bars':"x"}'></i>`;
            if (isOpenMenu) {
                isOpenMenu = false;
            }
            else {
                isOpenMenu = true;
            }
        });

        // Send message functionality
        const messageInput = document.getElementById('messageInput');
        const sendBtn = document.getElementById('sendBtn');
        const chatMessages = document.getElementById('chatMessages');

        function sendMessage() {
            const messageText = messageInput.value.trim();
            if (messageText) {
                const messageElement = document.createElement('div');
                messageElement.className = 'message sent';
                messageElement.innerHTML = `
                    <div class="message-content">${messageText}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                `;
                chatMessages.appendChild(messageElement);
                messageInput.value = '';

                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Simulate reply after 1-3 seconds
                setTimeout(() => {
                    const replies = [
                        "That's interesting!",
                        "I see what you mean.",
                        "Let me think about that.",
                        "Thanks for sharing!",
                        "I agree with you.",
                        "What else is on your mind?",
                        "That makes sense.",
                        "I'll get back to you on that."
                    ];
                    const randomReply = replies[Math.floor(Math.random() * replies.length)];

                    const replyElement = document.createElement('div');
                    replyElement.className = 'message received';
                    replyElement.innerHTML = `
                        <div class="message-content">${randomReply}</div>
                        <div class="message-time">${getCurrentTime()}</div>
                    `;
                    chatMessages.appendChild(replyElement);

                    // Scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000 + Math.random() * 2000);
            }
        }

        function getCurrentTime() {
            const now = new Date();
            let hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'PM' : 'AM';
            hours = hours % 12;
            hours = hours ? hours : 12; // the hour '0' should be '12'
            return `${hours}:${minutes} ${ampm}`;
        }

        sendBtn.addEventListener('click', sendMessage);

        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Contact click functionality
        const contacts = document.querySelectorAll('.contact');
        contacts.forEach(contact => {
            contact.addEventListener('click', () => {
                contacts.forEach(c => c.classList.remove('active'));
                contact.classList.add('active');

                // In a real app, you would load the conversation for this contact
            });
        });

        // FAB click functionality
        const fab = document.getElementById('fab');
        fab.addEventListener('click', () => {
            // Scroll to bottom of chat
            chatMessages.scrollTop = chatMessages.scrollHeight;
            messageInput.focus();

            // Add a little animation
            fab.style.transform = 'scale(1.2)';
            setTimeout(() => {
                fab.style.transform = 'scale(1)';
            }, 300);
        });

        // Initial scroll to bottom
        chatMessages.scrollTop = chatMessages.scrollHeight;
    </script>
</body>

</html>